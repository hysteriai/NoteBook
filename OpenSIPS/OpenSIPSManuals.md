# 编译和安装
## 1 编译
- 进入OpenSIPS源码文件夹，执行
  ```
  make all
  ```
  core和其他配置过要编译的模块，会被编译。

### 1.1 配置编译选项
- OpenSIPS有很多编译选项。不同的选项对应不同的功能。比如，你可以选择启用内存分析工具，或者默认不启用的TLS模块。
- 你需要用‘menuconfig’工具来修改编译选项。此工具是基于curses的，所以你在使用之前需要安装ncurses的库文件。在Debian系操作系统中，你可以通过“apt-get install libncurses5-dev”来安装。
- 安装完成后可以进入OpenSIPS根目录，执行“make menuconfig”进入配置菜单，在这里你可以用方向键浏览所有的选项（在控制台底部会显示当前选项的简单介绍）。
- 你可以通过空格键来更改配置项的使能状态，配置完成后可以用q键退出，并点击“Save Changes”。
- 更改完编译选项后，你需要重新编译并重新安装OpenSIPS
### 1.2 编译需要外部依赖的模块
- 有些模块需要一些你操作系统中没有的外部依赖项，所以OpenSIPS中一些模块是默认不编译的。因此，这些模块在安装的时候需要多加注意。比如依赖mysql devel library的DB_MYSQL模块，依赖外部JSON解析器的JSON模块等。
- 若要编译这些模块，你同样需要在menuconfig中进行配置。执行“'make menuconfig”，选择“'Configure Excluded Modules”，在这里你可以看到所有默认不启用的模块，同样，在控制台底部会显示模块的简单介绍。通过空格键来选择你需要的模块，选择完成后，按q返回上一层菜单，点击“Save Changes”。工具会显示出你选择的模块，并且会告诉你有哪些依赖项。同样，更改完编译选项后，你需要重新编译并重新安装OpenSIPS。
